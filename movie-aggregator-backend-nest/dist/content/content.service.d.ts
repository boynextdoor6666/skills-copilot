import { OnModuleInit } from '@nestjs/common';
import { Repository, Connection } from 'typeorm';
import { Content, ContentType } from './entities/content.entity';
import { HeroCarousel } from './entities/hero-carousel.entity';
import { ComingSoonItem } from './entities/coming-soon.entity';
import { CreateContentDto, UpdateContentDto, SearchContentDto } from './dto/content.dto';
export declare class ContentService implements OnModuleInit {
    private contentRepository;
    private heroCarouselRepository;
    private comingSoonRepository;
    private connection;
    private readonly logger;
    constructor(contentRepository: Repository<Content>, heroCarouselRepository: Repository<HeroCarousel>, comingSoonRepository: Repository<ComingSoonItem>, connection: Connection);
    onModuleInit(): Promise<void>;
    private ensureContentTable;
    private ensureHeroCarouselTable;
    private ensureComingSoonTable;
    private ensureContentColumns;
    searchContent(searchDto: SearchContentDto): Promise<any>;
    autocomplete(query: string, limit?: number): Promise<any>;
    getContentById(id: number): Promise<Content | {
        releaseDate: string | null;
        coverImage: string;
        logo: null;
        trailerUrl: string;
        metascore: number;
        userScore: number;
        criticReviews: {
            total: number;
            positive: number;
            mixed: number;
            negative: number;
        };
        userReviews: {
            total: number;
            positive: number;
            mixed: number;
            negative: number;
        };
        criticReviewsList: any[];
        userReviewsList: any[];
        similarContent: {
            id: any;
            title: any;
            poster: any;
            metascore: number;
            userScore: number;
        }[];
        platforms: string[];
        genre: string[];
        screenshots: never[];
        trailers: {
            title: string;
            url: string;
            thumbnail: string;
        }[];
        technicalInfo: any;
        id: number;
        title: string;
        content_type: ContentType;
        release_year: number;
        description: string;
        avg_rating: number;
        critics_rating: number;
        audience_rating: number;
        hype_index: number;
        reviews_count: number;
        positive_reviews: number;
        mixed_reviews: number;
        negative_reviews: number;
        emotional_cloud: Record<string, number>;
        perception_map: Record<string, number>;
        poster_url: string;
        trailer_url: string;
        director: string;
        cast: string;
        director_photo_url: string;
        cast_photos: string[] | null;
        runtime: number;
        developer: string;
        publisher: string;
        esrb_rating: string;
        players: string;
        file_size: string;
        technical_info: any;
        created_at: Date;
        updated_at: Date;
    } | null>;
    getDetailedContent(id: number): Promise<Content | {
        releaseDate: string | null;
        coverImage: string;
        logo: null;
        trailerUrl: string;
        metascore: number;
        userScore: number;
        criticReviews: {
            total: number;
            positive: number;
            mixed: number;
            negative: number;
        };
        userReviews: {
            total: number;
            positive: number;
            mixed: number;
            negative: number;
        };
        criticReviewsList: any[];
        userReviewsList: any[];
        similarContent: {
            id: any;
            title: any;
            poster: any;
            metascore: number;
            userScore: number;
        }[];
        platforms: string[];
        genre: string[];
        screenshots: never[];
        trailers: {
            title: string;
            url: string;
            thumbnail: string;
        }[];
        technicalInfo: any;
        id: number;
        title: string;
        content_type: ContentType;
        release_year: number;
        description: string;
        avg_rating: number;
        critics_rating: number;
        audience_rating: number;
        hype_index: number;
        reviews_count: number;
        positive_reviews: number;
        mixed_reviews: number;
        negative_reviews: number;
        emotional_cloud: Record<string, number>;
        perception_map: Record<string, number>;
        poster_url: string;
        trailer_url: string;
        director: string;
        cast: string;
        director_photo_url: string;
        cast_photos: string[] | null;
        runtime: number;
        developer: string;
        publisher: string;
        esrb_rating: string;
        players: string;
        file_size: string;
        technical_info: any;
        created_at: Date;
        updated_at: Date;
    } | null>;
    getEmotionalCloud(contentId: number): Promise<Record<string, number>>;
    getPerceptionMap(contentId: number): Promise<Record<string, number>>;
    getDynamicsGraph(contentId: number): Promise<any>;
    createContent(createDto: CreateContentDto): Promise<any>;
    updateContent(id: number, updateDto: UpdateContentDto, adminId: number): Promise<Content | {
        releaseDate: string | null;
        coverImage: string;
        logo: null;
        trailerUrl: string;
        metascore: number;
        userScore: number;
        criticReviews: {
            total: number;
            positive: number;
            mixed: number;
            negative: number;
        };
        userReviews: {
            total: number;
            positive: number;
            mixed: number;
            negative: number;
        };
        criticReviewsList: any[];
        userReviewsList: any[];
        similarContent: {
            id: any;
            title: any;
            poster: any;
            metascore: number;
            userScore: number;
        }[];
        platforms: string[];
        genre: string[];
        screenshots: never[];
        trailers: {
            title: string;
            url: string;
            thumbnail: string;
        }[];
        technicalInfo: any;
        id: number;
        title: string;
        content_type: ContentType;
        release_year: number;
        description: string;
        avg_rating: number;
        critics_rating: number;
        audience_rating: number;
        hype_index: number;
        reviews_count: number;
        positive_reviews: number;
        mixed_reviews: number;
        negative_reviews: number;
        emotional_cloud: Record<string, number>;
        perception_map: Record<string, number>;
        poster_url: string;
        trailer_url: string;
        director: string;
        cast: string;
        director_photo_url: string;
        cast_photos: string[] | null;
        runtime: number;
        developer: string;
        publisher: string;
        esrb_rating: string;
        players: string;
        file_size: string;
        technical_info: any;
        created_at: Date;
        updated_at: Date;
    } | null>;
    deleteContent(id: number): Promise<import("typeorm").DeleteResult>;
    getAllContent(contentType?: ContentType, limit?: number): any;
    getActiveHeroCarousel(sort?: string): Promise<HeroCarousel[]>;
    getContentStats(): Promise<{
        total: number;
        byType: {
            movies: number;
            series: number;
            games: number;
        };
        heroActive: number;
        comingActive: number;
    }>;
    getAllHeroCarousel(): Promise<HeroCarousel[]>;
    createHeroCarousel(data: any): Promise<HeroCarousel[]>;
    updateHeroCarousel(id: number, data: any): Promise<HeroCarousel | null>;
    deleteHeroCarousel(id: number): Promise<import("typeorm").DeleteResult>;
    getActiveComingSoon(): Promise<ComingSoonItem[]>;
    getAllComingSoon(): Promise<ComingSoonItem[]>;
    createComingSoon(data: any): Promise<ComingSoonItem[]>;
    updateComingSoon(id: number, data: any): Promise<ComingSoonItem | null>;
    deleteComingSoon(id: number): Promise<import("typeorm").DeleteResult>;
    getCountryRatings(contentId: number): Promise<{
        ratings: any;
        totalRatings: number;
        globalAvg: number;
        countriesCount: number;
    }>;
    getGlobalCountryStats(): Promise<any>;
    private getCountryCode;
}
